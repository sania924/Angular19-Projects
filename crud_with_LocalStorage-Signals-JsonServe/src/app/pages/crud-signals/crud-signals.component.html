<div class="row">
  <div [class]="sidepanelVisible() == true ? 'col-7' : 'col-12'">
    <div class="card">
      <div class="card-header bg-warning">
        <div class="row">
          <div class="col-6">UserList</div>
          <div class="col-6 text-end">
            <button
              type="button"
              class="btn btn-primary"
              (click)="changeView()"
            >
              Add new User
            </button>
          </div>
        </div>
      </div>
      <div class="card-body">
        <div class="row">
          @for (item of userList(); track item) {
          <div class="col-3">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">{{ item.email }}</h5>
                <h6 class="card-subtitle mb-2 text-muted">
                  {{ item.address }}
                </h6>
                <p class="card-text">
                  {{ item.city }} - {{ item.state }} - {{ item.zipcode }}
                </p>
                <a href="#" class="card-link" (click)="onedit(item)">Edit</a>
                <a href="#" class="card-link" (click)="onDelete(item.userId)"
                  >Delete</a
                >
              </div>
            </div>
          </div>
          }
        </div>
      </div>
    </div>
  </div>
  @if(sidepanelVisible()==true){
  <div class="col-5 mr-3">
    <div class="card">
      <div class="card-header bg-warning">
        <div class="row">
          <div class="col-6">new User</div>
          <div class="col-6 text-end">
            <button type="button" class="btn btn-danger" (click)="changeView()">
              close
            </button>
          </div>
        </div>
      </div>
      <div class="card-body mr-3">
        <div class="row">
          <div class="col-12">
            <form class="row g-3">
              <div class="col-6">
                <label for="inputEmail4" class="form-label">Email</label>
                <input
                  type="email"
                  class="form-control"
                  name="email"
                  id="inputEmail4"
                  [value]="userForm().email"
                  (change)="updateUserObj('email', $event)"
                />
              </div>
              <div class="col-6">
                <label for="inputPassword4" class="form-label">Password</label>
                <input
                  type="password"
                  class="form-control"
                  name="password"
                  id="inputPassword4"
                  [value]="userForm().password"
                  (change)="updateUserObj('password', $event)"
                />
              </div>
              <div class="col-12">
                <label for="inputAddress" class="form-label">Address</label>
                <input
                  type="text"
                  class="form-control"
                  name="address"
                  id="inputAddress"
                  placeholder="1234 Main St"
                  [value]="userForm().address"
                  (change)="updateUserObj('address', $event)"
                />
              </div>

              <div class="col-md-6">
                <label for="inputCity" class="form-label">City</label>
                <input
                  type="text"
                  class="form-control"
                  name="city"
                  id="inputCity"
                  [value]="userForm().city"
                  (change)="updateUserObj('city', $event)"
                />
              </div>
              <div class="col-md-4">
                <label for="inputState" class="form-label">State</label>
                <select
                  id="inputState"
                  class="form-select"
                  name="state"
                  [value]="userForm().state"
                  (change)="updateUserObj('state', $event)"
                >
                  <option selected>Choose...</option>
                  <option>Pakistan</option>
                  <option value="">India</option>
                </select>
              </div>
              <div class="col-md-2">
                <label for="inputZip" class="form-label">Zip</label>
                <input
                  type="text"
                  class="form-control"
                  name="zipcode"
                  id="inputZip"
                  [value]="userForm().zipcode"
                  (change)="updateUserObj('zipcode', $event)"
                />
              </div>
              <div class="col-12">
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="gridCheck"
                    name="isAgree"
                    [value]="userForm().isAgree"
                    (change)="updateUserObj('isAgree', $event)"
                  />
                  <label class="form-check-label" for="gridCheck">
                    Check me out
                  </label>
                </div>
              </div>
              <div class="col-12">
                @if(userForm().userId==0){
                <button
                  type="submit"
                  class="btn btn-primary"
                  (click)="onSave()"
                >
                  Save
                </button>
                } @else {
                <button
                  type="submit"
                  class="btn btn-warning"
                  (click)="onSave()"
                >
                  Edit
                </button>
                }
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  }
</div>
